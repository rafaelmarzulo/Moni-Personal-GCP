# ====================================
# CONFIGURAÇÕES - MONI PERSONAL GCP
# ====================================
#
# IMPORTANTE:
# - Copie este arquivo para .env e configure com valores reais
# - NUNCA commite o arquivo .env com valores de produção
# - Use Google Secret Manager para produção
# - Gere novas chaves: python -c "import secrets; print(secrets.token_urlsafe(64))"
#
# ====================================

# ====================================
# APPLICATION SETTINGS
# ====================================
APP_NAME="Sistema de Reavaliação Física MoniPersonal"
ENVIRONMENT=production
DEBUG=false
FORCE_HTTPS=true

# ====================================
# SERVER CONFIGURATION
# ====================================
# GCP Cloud Run injeta a variável PORT automaticamente
PORT=8080
HOST=0.0.0.0
WORKERS=2

# ====================================
# DATABASE - Google Cloud SQL
# ====================================
# Formato Unix Socket (recomendado para Cloud SQL):
# postgresql://user:password@/dbname?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
#
# Formato TCP (alternativo):
# postgresql://user:password@CLOUD_SQL_PROXY_HOST:5432/dbname
DATABASE_URL=postgresql://username:password@/monipersonal?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME

# Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ====================================
# SECURITY SECRETS
# ====================================
# ATENÇÃO: Use Secret Manager em produção!
SECRET_KEY=GENERATE_NEW_SECRET_KEY_HERE
JWT_SECRET_KEY=GENERATE_NEW_JWT_SECRET_KEY_HERE
SESSION_SECRET=GENERATE_NEW_SESSION_SECRET_HERE

# JWT Settings
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ====================================
# SECURITY POLICIES
# ====================================
ALLOWED_HOSTS=*
CORS_ORIGINS=https://your-domain.com,https://your-app.run.app
CSRF_TRUSTED_ORIGINS=https://your-domain.com,https://your-app.run.app

# Session Cookie Settings
SESSION_COOKIE_NAME=session_token
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_MAX_AGE=86400

# ====================================
# GOOGLE CLOUD PLATFORM
# ====================================
GCP_PROJECT_ID=your-project-id
GCP_REGION=southamerica-east1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# Cloud Storage (opcional)
GCS_BUCKET_NAME=your-bucket-name
GCS_UPLOAD_PATH=uploads/

# Cloud SQL Instance (para conexão)
CLOUD_SQL_CONNECTION_NAME=PROJECT_ID:REGION:INSTANCE_NAME

# ====================================
# LOGGING & MONITORING
# ====================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_CLOUD_LOGGING=true

# OpenTelemetry (opcional)
ENABLE_TRACE=true
ENABLE_METRICS=true
OTEL_SERVICE_NAME=moni-personal-gcp

# ====================================
# RATE LIMITING
# ====================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_STORAGE=memory

# ====================================
# EMAIL CONFIGURATION (opcional)
# ====================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourdomain.com
SMTP_TLS=true

# ====================================
# TIMEZONE
# ====================================
TZ=America/Sao_Paulo
TIMEZONE=America/Sao_Paulo

# ====================================
# BACKUP (opcional)
# ====================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_GCS_BUCKET=your-backup-bucket

# ====================================
# DEVELOPMENT ONLY (não usar em produção)
# ====================================
# PostgreSQL local para testes
POSTGRES_DB=monipersonal
POSTGRES_USER=monipersonal_user
POSTGRES_PASSWORD=monipersonal_pass
POSTGRES_HOST=localhost
POSTGRES_PORT=5432